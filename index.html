<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="Pagamentos, Pix, Cartão de crédito" />
    <meta name="description" content="Facilidade de Pagamentos" />
    <meta name="author" content="Clovis de Jesus" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style-pix.css" />
    <title>Pagamento</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="container mt-4" style="width: 400px">
    <h1>Pagamento</h1>
    <div class="border border-primary rounded p-4">
        <div class="d-flex align-items-center gap-2">
            <label>Valor: </label>
            <input type="number" id="valor" placeholder=" Digite o valor" style="width: 250px" />
        </div>
        <div class="mt-3 opcoes">
            <label> <input type="radio" name="opcao" id="pix" />Pix </label>
            <label>
          <input type="radio" name="opcao" id="cartao" />Cartão de Crédito
        </label>
        </div>
        <div class="d-flex justify-content-center align-items-center me-5">
            <button id="btnPagamento" class="btn btn-warning mb-2 mt-3">
          Informe os dados
        </button>
        </div>
        <div>
            <script>
                // Método verifica se o campo valor esta vazio, se não armazena o valor e
                // transfere o valor para o forma de pgto escolhida.
                document.addEventListener('DOMContentLoaded', function() {
                    let botao = document.getElementById('btnPagamento')
                    let radioPix = document.getElementById('pix')
                    let radioCartao = document.getElementById('cartao')
                    let valorInput = document.getElementById('valor')

                    botao.addEventListener('click', function() {
                        let valor = parseFloat(valorInput.value.trim())

                        if (isNaN(valor) || valor <= 0) {
                            alert('Informe um valor válido!')
                            return
                        }

                        if (radioPix.checked) {
                            let valorComDesconto = (valor * 0.9).toFixed(2) // 10% desconto
                            localStorage.setItem('valorPix', valorComDesconto)
                            window.location.href = 'pix.html'
                        } else if (radioCartao.checked) {
                            localStorage.setItem('valorCartao', valor.toFixed(2))
                            window.location.href = 'credito.html'
                        } else {
                            alert('Selecione uma opção de pagamento')
                        }
                    })
                })
            </script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js "></script>
        </div>
    </div>
</body>

</html>